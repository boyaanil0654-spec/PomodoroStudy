<!DOCTYPE html>
<html lang="en" data-theme="royal">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Futuristic Pomodoro Study Tracker with Royal Design - Boost your productivity with smart timer, task management, and analytics">
    <meta name="keywords" content="pomodoro, study, timer, productivity, focus, royal, tracker">
    <meta name="author" content="Royal Pomodoro">
    <meta property="og:title" content="Royal Pomodoro | Futuristic Study Tracker">
    <meta property="og:description" content="Boost your productivity with our royal-themed Pomodoro tracker">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://royal-pomodoro.onrender.com">
    <meta name="twitter:card" content="summary_large_image">
    
    <title>üëë Royal Pomodoro | Futuristic Study Tracker</title>
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="preload" href="./src/css/main.css" as="style">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="./src/css/main.css">
    <link rel="stylesheet" href="./src/css/timer.css">
    <link rel="stylesheet" href="./src/css/dashboard.css">
    <link rel="stylesheet" href="./src/css/modal.css">
    <link rel="stylesheet" href="./src/css/responsive.css">
    
    <!-- PWA -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#0a1128">
    <link rel="icon" type="image/svg+xml" href="./assets/icons/crown.svg">
    <link rel="apple-touch-icon" href="./assets/icons/icon-192.png">
    
    <!-- Preload sounds -->
    <link rel="preload" href="./assets/sounds/bell.mp3" as="audio" type="audio/mpeg">
    <link rel="preload" href="./assets/sounds/complete.mp3" as="audio" type="audio/mpeg">
</head>
<body class="loading">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="crown-spinner">
                <i class="fas fa-crown"></i>
            </div>
            <h2>Initializing Royal Experience</h2>
            <div class="loading-progress">
                <div class="progress-bar"></div>
            </div>
            <p class="loading-text">Loading your royal study environment...</p>
        </div>
    </div>

    <!-- Background Particles -->
    <div id="particles" class="particles-container"></div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Navigation -->
        <nav class="royal-nav">
            <div class="nav-container">
                <div class="logo">
                    <i class="fas fa-crown crown-spin"></i>
                    <h1>Royal Pomodoro</h1>
                    <span class="version">v1.0</span>
                </div>
                
                <div class="nav-controls">
                    <div class="user-stats">
                        <span class="stat-item">
                            <i class="fas fa-fire"></i>
                            <span id="nav-streak">0</span>d
                        </span>
                        <span class="stat-item">
                            <i class="fas fa-clock"></i>
                            <span id="nav-total">0h</span>
                        </span>
                    </div>
                    
                    <button class="nav-btn theme-toggle" id="themeToggle" title="Change Theme">
                        <i class="fas fa-palette"></i>
                    </button>
                    
                    <button class="nav-btn notification-toggle" id="notificationToggle" title="Toggle Notifications">
                        <i class="fas fa-bell"></i>
                    </button>
                    
                    <button class="nav-btn settings-btn" id="settingsBtn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    
                    <button class="nav-btn premium-btn" id="premiumBtn">
                        <i class="fas fa-gem"></i>
                        <span>Premium</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Dashboard -->
        <main class="dashboard">
            <!-- Left Panel: Timer -->
            <div class="panel timer-panel royal-card">
                <div class="panel-header">
                    <h2><i class="fas fa-clock"></i> Royal Timer</h2>
                    <div class="timer-status">
                        <span class="status-badge" id="timerStatus">READY</span>
                    </div>
                </div>
                
                <div class="timer-container">
                    <!-- Circular Timer -->
                    <div class="circular-timer">
                        <svg class="progress-ring" width="320" height="320" viewBox="0 0 320 320">
                            <defs>
                                <linearGradient id="timer-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#ffd700" />
                                    <stop offset="50%" stop-color="#ffed4e" />
                                    <stop offset="100%" stop-color="#ffd700" />
                                </linearGradient>
                                <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feGaussianBlur stdDeviation="5" result="blur" />
                                    <feMerge>
                                        <feMergeNode in="blur" />
                                        <feMergeNode in="SourceGraphic" />
                                    </feMerge>
                                </filter>
                            </defs>
                            <circle class="progress-ring-background" cx="160" cy="160" r="150" />
                            <circle class="progress-ring-circle" cx="160" cy="160" r="150" 
                                    stroke="url(#timer-gradient)" filter="url(#glow)" />
                        </svg>
                        
                        <div class="timer-display">
                            <div class="timer-numbers">
                                <span id="timer-minutes">25</span>
                                <span class="timer-colon">:</span>
                                <span id="timer-seconds">00</span>
                            </div>
                            <div class="timer-mode" id="timerMode">
                                <i class="fas fa-brain"></i>
                                <span>FOCUS SESSION</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Session Info -->
                    <div class="session-info">
                        <div class="info-card">
                            <i class="fas fa-flag-checkered"></i>
                            <div>
                                <div class="info-label">Session</div>
                                <div class="info-value"><span id="sessionCount">1</span>/<span id="totalSessions">4</span></div>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <i class="fas fa-tasks"></i>
                            <div>
                                <div class="info-label">Active Task</div>
                                <div class="info-value" id="currentTask">Select a task</div>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <i class="fas fa-hourglass-half"></i>
                            <div>
                                <div class="info-label">Next Break</div>
                                <div class="info-value" id="nextBreak">5:00</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Timer Controls -->
                    <div class="timer-controls">
                        <button class="control-btn royal-start" id="startBtn">
                            <i class="fas fa-play"></i>
                            <span>Start Focus</span>
                        </button>
                        
                        <button class="control-btn royal-pause" id="pauseBtn" disabled>
                            <i class="fas fa-pause"></i>
                            <span>Pause</span>
                        </button>
                        
                        <button class="control-btn royal-skip" id="skipBtn">
                            <i class="fas fa-forward"></i>
                            <span>Skip</span>
                        </button>
                        
                        <button class="control-btn royal-reset" id="resetBtn">
                            <i class="fas fa-redo"></i>
                            <span>Reset</span>
                        </button>
                    </div>
                    
                    <!-- Quick Presets -->
                    <div class="presets-grid">
                        <button class="preset-btn focus-preset active" data-type="focus" data-minutes="25">
                            <i class="fas fa-brain"></i>
                            <span>Focus 25</span>
                            <span class="preset-desc">Standard Session</span>
                        </button>
                        
                        <button class="preset-btn quick-preset" data-type="focus" data-minutes="15">
                            <i class="fas fa-bolt"></i>
                            <span>Quick 15</span>
                            <span class="preset-desc">Short Task</span>
                        </button>
                        
                        <button class="preset-btn deep-preset" data-type="focus" data-minutes="50">
                            <i class="fas fa-rocket"></i>
                            <span>Deep 50</span>
                            <span class="preset-desc">Deep Work</span>
                        </button>
                        
                        <button class="preset-btn break-preset" data-type="break" data-minutes="5">
                            <i class="fas fa-coffee"></i>
                            <span>Break 5</span>
                            <span class="preset-desc">Short Rest</span>
                        </button>
                        
                        <button class="preset-btn longbreak-preset" data-type="break" data-minutes="15">
                            <i class="fas fa-spa"></i>
                            <span>Long Break</span>
                            <span class="preset-desc">15 min</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Tasks & Analytics -->
            <div class="right-panel">
                <!-- Tasks Panel -->
                <div class="panel tasks-panel royal-card">
                    <div class="panel-header">
                        <h2><i class="fas fa-tasks"></i> Royal Tasks</h2>
                        <div class="tasks-stats">
                            <span class="stat-badge">
                                <i class="fas fa-check-circle"></i>
                                <span id="completedTasks">0</span>/<span id="totalTasks">0</span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="task-input-section">
                        <div class="input-group">
                            <input type="text" id="taskInput" placeholder="What needs royal attention?" 
                                   autocomplete="off" maxlength="100">
                            <div class="input-actions">
                                <select id="taskPriority" class="priority-select">
                                    <option value="low">‚ö™ Low</option>
                                    <option value="medium" selected>üü° Medium</option>
                                    <option value="high">üî¥ High</option>
                                    <option value="royal">üëë Royal</option>
                                </select>
                                <button class="add-task-btn" id="addTaskBtn">
                                    <i class="fas fa-plus"></i>
                                    <span>Add</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="quick-tags">
                            <button class="tag-btn" data-tag="Study">üìö Study</button>
                            <button class="tag-btn" data-tag="Work">üíº Work</button>
                            <button class="tag-btn" data-tag="Project">üöÄ Project</button>
                            <button class="tag-btn" data-tag="Personal">üë§ Personal</button>
                        </div>
                    </div>
                    
                    <div class="tasks-container">
                        <div class="tasks-header">
                            <div class="tasks-filter">
                                <button class="filter-btn active" data-filter="all">All</button>
                                <button class="filter-btn" data-filter="active">Active</button>
                                <button class="filter-btn" data-filter="completed">Completed</button>
                            </div>
                            <button class="sort-btn" id="sortTasks">
                                <i class="fas fa-sort-amount-down"></i>
                                Sort
                            </button>
                        </div>
                        
                        <div class="tasks-list" id="tasksList">
                            <!-- Tasks will be loaded here -->
                            <div class="empty-state">
                                <i class="fas fa-tasks"></i>
                                <h3>No Royal Tasks Yet</h3>
                                <p>Add your first task to begin your productive journey!</p>
                                <button class="empty-action-btn" id="addFirstTask">
                                    <i class="fas fa-plus-circle"></i>
                                    Create First Task
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Panel -->
                <div class="panel analytics-panel royal-card">
                    <div class="panel-header">
                        <h2><i class="fas fa-chart-line"></i> Royal Analytics</h2>
                        <div class="analytics-controls">
                            <div class="period-selector">
                                <button class="period-btn active" data-period="today">Today</button>
                                <button class="period-btn" data-period="week">Week</button>
                                <button class="period-btn" data-period="month">Month</button>
                            </div>
                            <button class="export-btn" id="exportData">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stats Overview -->
                    <div class="stats-overview">
                        <div class="stat-card royal-stat">
                            <div class="stat-icon">
                                <i class="fas fa-crown"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-value" id="totalFocusTime">0h 00m</div>
                                <div class="stat-label">Total Focus</div>
                                <div class="stat-trend">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+0% today</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card streak-stat">
                            <div class="stat-icon">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-value" id="currentStreak">0</div>
                                <div class="stat-label">Day Streak</div>
                                <div class="stat-trend">
                                    <i class="fas fa-fire"></i>
                                    <span>Keep going!</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card tasks-stat">
                            <div class="stat-icon">
                                <i class="fas fa-check-double"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-value" id="completedTasksCount">0</div>
                                <div class="stat-label">Tasks Done</div>
                                <div class="stat-progress">
                                    <div class="progress-bar-small">
                                        <div class="progress-fill" style="width: 0%"></div>
                                    </div>
                                    <span>0%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card productivity-stat">
                            <div class="stat-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-value" id="productivityScore">0%</div>
                                <div class="stat-label">Productivity</div>
                                <div class="stat-rating">
                                    <div class="stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts -->
                    <div class="charts-container">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3><i class="fas fa-chart-bar"></i> Focus Time</h3>
                                <select class="chart-select" id="chartType">
                                    <option value="bar">Bar Chart</option>
                                    <option value="line">Line Chart</option>
                                </select>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="focusChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3><i class="fas fa-chart-pie"></i> Task Distribution</h3>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="taskDistributionChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Achievements -->
                    <div class="achievements-section">
                        <h3><i class="fas fa-medal"></i> Royal Achievements</h3>
                        <div class="achievements-grid" id="achievementsList">
                            <div class="achievement locked">
                                <i class="fas fa-clock"></i>
                                <span>First Session</span>
                            </div>
                            <div class="achievement locked">
                                <i class="fas fa-fire"></i>
                                <span>3-Day Streak</span>
                            </div>
                            <div class="achievement locked">
                                <i class="fas fa-crown"></i>
                                <span>Royal Focus</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="royal-footer">
            <div class="footer-container">
                <div class="footer-section">
                    <h4><i class="fas fa-crown"></i> Royal Pomodoro</h4>
                    <p>Boost your productivity with royal precision</p>
                    <div class="footer-links">
                        <a href="#"><i class="fab fa-github"></i> GitHub</a>
                        <a href="#"><i class="fas fa-book"></i> Docs</a>
                        <a href="#"><i class="fas fa-envelope"></i> Contact</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Productivity Tips</h4>
                    <div class="tip" id="productivityTip">
                        Take regular breaks to maintain focus!
                    </div>
                    <button class="tip-refresh" id="refreshTip">
                        <i class="fas fa-sync-alt"></i> New Tip
                    </button>
                </div>
                
                <div class="footer-section">
                    <h4>System Status</h4>
                    <div class="status-indicator">
                        <div class="status-dot online"></div>
                        <span>All Systems Operational</span>
                    </div>
                    <div class="footer-stats">
                        <div class="footer-stat">
                            <i class="fas fa-server"></i>
                            <span>Uptime: 100%</span>
                        </div>
                        <div class="footer-stat">
                            <i class="fas fa-users"></i>
                            <span>Users: 1</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 Royal Pomodoro. All rights reserved. | Designed with <i class="fas fa-heart"></i> for productive minds</p>
                <div class="footer-social">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-discord"></i></a>
                    <a href="#"><i class="fab fa-product-hunt"></i></a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal royal-modal">
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> Royal Settings</h2>
                <button class="modal-close" id="closeSettings">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="settings-tabs">
                    <button class="tab-btn active" data-tab="timer">Timer</button>
                    <button class="tab-btn" data-tab="notifications">Notifications</button>
                    <button class="tab-btn" data-tab="appearance">Appearance</button>
                    <button class="tab-btn" data-tab="data">Data</button>
                </div>
                
                <div class="settings-content">
                    <!-- Timer Settings -->
                    <div class="settings-tab active" id="timerTab">
                        <div class="setting-group">
                            <h3><i class="fas fa-clock"></i> Timer Durations</h3>
                            <div class="setting-item">
                                <label>Focus Duration (minutes)</label>
                                <input type="range" id="focusDuration" min="5" max="60" value="25" step="5">
                                <span class="slider-value" id="focusValue">25 min</span>
                            </div>
                            <div class="setting-item">
                                <label>Break Duration (minutes)</label>
                                <input type="range" id="breakDuration" min="1" max="30" value="5" step="1">
                                <span class="slider-value" id="breakValue">5 min</span>
                            </div>
                            <div class="setting-item">
                                <label>Long Break Duration (minutes)</label>
                                <input type="range" id="longBreakDuration" min="10" max="30" value="15" step="5">
                                <span class="slider-value" id="longBreakValue">15 min</span>
                            </div>
                            <div class="setting-item">
                                <label>Sessions before Long Break</label>
                                <input type="number" id="sessionsPerSet" min="1" max="10" value="4">
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3><i class="fas fa-play-circle"></i> Auto Start</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="autoStartBreaks" checked>
                                    Auto-start breaks
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="autoStartFocus" checked>
                                    Auto-start next focus session
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notification Settings -->
                    <div class="settings-tab" id="notificationsTab">
                        <div class="setting-group">
                            <h3><i class="fas fa-bell"></i> Notifications</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="enableNotifications" checked>
                                    Enable Browser Notifications
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="enableSounds" checked>
                                    Enable Sound Alerts
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>Notification Volume</label>
                                <input type="range" id="notificationVolume" min="0" max="100" value="50">
                                <span class="slider-value" id="volumeValue">50%</span>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3><i class="fas fa-bell-slash"></i> Do Not Disturb</h3>
                            <div class="setting-item">
                                <label>Enable from:</label>
                                <input type="time" id="dndStart" value="22:00">
                            </div>
                            <div class="setting-item">
                                <label>Enable until:</label>
                                <input type="time" id="dndEnd" value="07:00">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Appearance Settings -->
                    <div class="settings-tab" id="appearanceTab">
                        <div class="setting-group">
                            <h3><i class="fas fa-palette"></i> Theme</h3>
                            <div class="theme-selector">
                                <div class="theme-option active" data-theme="royal">
                                    <div class="theme-preview royal-theme"></div>
                                    <span>Royal</span>
                                </div>
                                <div class="theme-option" data-theme="dark">
                                    <div class="theme-preview dark-theme"></div>
                                    <span>Dark</span>
                                </div>
                                <div class="theme-option" data-theme="purple">
                                    <div class="theme-preview purple-theme"></div>
                                    <span>Purple</span>
                                </div>
                                <div class="theme-option" data-theme="gold">
                                    <div class="theme-preview gold-theme"></div>
                                    <span>Gold</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3><i class="fas fa-eye"></i> Display</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="reduceMotion" checked>
                                    Reduce motion
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="showSeconds" checked>
                                    Show seconds in timer
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="compactView">
                                    Compact view
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Settings -->
                    <div class="settings-tab" id="dataTab">
                        <div class="setting-group">
                            <h3><i class="fas fa-database"></i> Data Management</h3>
                            <div class="setting-item">
                                <label>Auto-save interval</label>
                                <select id="autoSaveInterval">
                                    <option value="30">30 seconds</option>
                                    <option value="60" selected>1 minute</option>
                                    <option value="300">5 minutes</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <button class="action-btn backup-btn" id="backupData">
                                    <i class="fas fa-download"></i>
                                    Backup Data
                                </button>
                                <button class="action-btn restore-btn" id="restoreData">
                                    <i class="fas fa-upload"></i>
                                    Restore Data
                                </button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3><i class="fas fa-trash"></i> Reset Data</h3>
                            <div class="danger-zone">
                                <p>Warning: These actions cannot be undone</p>
                                <div class="danger-actions">
                                    <button class="danger-btn" id="resetTasks">
                                        Reset Tasks
                                    </button>
                                    <button class="danger-btn" id="resetSessions">
                                        Reset Sessions
                                    </button>
                                    <button class="danger-btn" id="resetAll">
                                        Reset Everything
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn secondary" id="cancelSettings">Cancel</button>
                <button class="btn primary" id="saveSettings">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Task Detail Modal -->
    <div class="modal-overlay" id="taskDetailModal">
        <div class="modal royal-modal">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> Task Details</h2>
                <button class="modal-close" id="closeTaskModal">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label>Task Title</label>
                    <input type="text" id="editTaskTitle" class="royal-input" maxlength="100">
                </div>
                
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="editTaskDescription" class="royal-textarea" rows="3" 
                              placeholder="Add details about this task..."></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Priority</label>
                        <select id="editTaskPriority" class="royal-select">
                            <option value="low">‚ö™ Low Priority</option>
                            <option value="medium">üü° Medium Priority</option>
                            <option value="high">üî¥ High Priority</option>
                            <option value="royal">üëë Royal Priority</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Estimated Pomodoros</label>
                        <input type="number" id="editTaskPomodoros" class="royal-input" min="1" max="20" value="1">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Category</label>
                        <select id="editTaskCategory" class="royal-select">
                            <option value="study">üìö Study</option>
                            <option value="work">üíº Work</option>
                            <option value="project">üöÄ Project</option>
                            <option value="personal">üë§ Personal</option>
                            <option value="other">üìù Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Due Date</label>
                        <input type="date" id="editTaskDueDate" class="royal-input">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Progress</label>
                    <div class="progress-display">
                        <div class="progress-text">
                            <span id="progressText">0/1 pomodoros completed</span>
                            <span id="progressPercent">0%</span>
                        </div>
                        <div class="progress-bar-large">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn danger" id="deleteTaskBtn">
                    <i class="fas fa-trash"></i> Delete
                </button>
                <button class="btn secondary" id="cancelTaskEdit">Cancel</button>
                <button class="btn primary" id="saveTaskBtn">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Premium Modal -->
    <div class="modal-overlay" id="premiumModal">
        <div class="modal premium-modal">
            <div class="modal-header">
                <h2><i class="fas fa-gem"></i> Upgrade to Royal Premium</h2>
                <button class="modal-close" id="closePremium">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="premium-features">
                    <div class="feature">
                        <i class="fas fa-cloud"></i>
                        <div>
                            <h3>Cloud Sync</h3>
                            <p>Sync your data across all devices</p>
                        </div>
                    </div>
                    <div class="feature">
                        <i class="fas fa-chart-network"></i>
                        <div>
                            <h3>Advanced Analytics</h3>
                            <p>Detailed insights and reports</p>
                        </div>
                    </div>
                    <div class="feature">
                        <i class="fas fa-palette"></i>
                        <div>
                            <h3>Custom Themes</h3>
                            <p>Unlock exclusive themes</p>
                        </div>
                    </div>
                    <div class="feature">
                        <i class="fas fa-headset"></i>
                        <div>
                            <h3>Priority Support</h3>
                            <p>24/7 premium support</p>
                        </div>
                    </div>
                </div>
                
                <div class="pricing">
                    <div class="pricing-card">
                        <h3>Premium</h3>
                        <div class="price">$4.99<span>/month</span></div>
                        <button class="btn premium-btn">Start Free Trial</button>
                        <p class="price-note">7-day free trial, then $4.99/month</p>
                    </div>
                    
                    <div class="pricing-card featured">
                        <div class="badge">Most Popular</div>
                        <h3>Royal Pro</h3>
                        <div class="price">$49.99<span>/year</span></div>
                        <button class="btn royal-btn">Save 17%</button>
                        <p class="price-note">Billed annually, $4.16/month</p>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn secondary" id="closePremiumModal">Maybe Later</button>
                <p class="security-note">
                    <i class="fas fa-lock"></i>
                    Secure payment ‚Ä¢ Cancel anytime
                </p>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Keyboard Shortcuts Help -->
    <div class="shortcuts-help" id="shortcutsHelp">
        <div class="shortcuts-header">
            <h3><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h3>
            <button class="close-shortcuts">&times;</button>
        </div>
        <div class="shortcuts-grid">
            <div class="shortcut-item">
                <kbd>Space</kbd>
                <span>Start/Pause Timer</span>
            </div>
            <div class="shortcut-item">
                <kbd>Ctrl/Cmd + N</kbd>
                <span>Skip Session</span>
            </div>
            <div class="shortcut-item">
                <kbd>Ctrl/Cmd + R</kbd>
                <span>Reset Timer</span>
            </div>
            <div class="shortcut-item">
                <kbd>Ctrl/Cmd + T</kbd>
                <span>New Task</span>
            </div>
            <div class="shortcut-item">
                <kbd>Ctrl/Cmd + ,</kbd>
                <span>Settings</span>
            </div>
            <div class="shortcut-item">
                <kbd>?</kbd>
                <span>Show Shortcuts</span>
            </div>
        </div>
    </div>

    <!-- Import Files -->
    <input type="file" id="importFile" accept=".json" style="display: none;">
    
    <!-- Audio Elements -->
    <audio id="focusSound" preload="auto">
        <source src="./assets/sounds/focus-start.mp3" type="audio/mpeg">
    </audio>
    <audio id="breakSound" preload="auto">
        <source src="./assets/sounds/break-start.mp3" type="audio/mpeg">
    </audio>
    <audio id="completeSound" preload="auto">
        <source src="./assets/sounds/session-complete.mp3" type="audio/mpeg">
    </audio>
    <audio id="notificationSound" preload="auto">
        <source src="./assets/sounds/notification.mp3" type="audio/mpeg">
    </audio>

    <!-- JavaScript Files -->
    <script src="./src/js/utils.js"></script>
    <script src="./src/js/storage.js"></script>
    <script src="./src/js/sounds.js"></script>
    <script src="./src/js/notifications.js"></script>
    <script src="./src/js/timer.js"></script>
    <script src="./src/js/tasks.js"></script>
    <script src="./src/js/analytics.js"></script>
    <script src="./src/js/ui.js"></script>
    <script src="./src/js/app.js"></script>
    
    <!-- Initialize Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>
